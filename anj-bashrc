[[ $- != *i* ]] && return

# set xkbmap -option caps:escape

namespace=""
hf_token=""
export OPENAI_API_KEY=""
export HF_API_KEY=""
export HUGGING_FACE_HUB_TOKEN=""

alias l='ls -ltrh'

# Neovim if possible
alias vim='nvim'
alias vimclear='rm -rf ~/.local/state/nvim/swap/*'

# Mongo
alias mongods='nohup mongod > /dev/null 2>&1 & disown'
alias mongodk='killall mongod'
alias mongoshs='nohup mongosh > /dev/null 2>&1 & disown'
alias mongoshk='killall mongosh'

# NPM
alias npms='nohup npm start > /dev/null 2>&1 & disown'
alias npmk='killall node'

# Docker
alias dockerkill='sudo docker stop $(sudo docker ps -a -q)'
alias dockerrm='sudo docker rm $(sudo docker ps -a -q)'

# K8s
kr() {
    job=$1
    kubectl delete -f $1
    kubectl apply -f $1
}

# Discord
alias dcs='nohup ~/Executables/Discord/Discord > /dev/null 2>&1 & disown'
dcsi() {
    cd ~/Downloads/
    tgz=$(ls discord*.tar.gz | sort | tail -n1)
    echo $tgz
    tar xzf $tgz
    sudo rm -rf ~/Executables/Discord/
    cp -r ~/Downloads/Discord ~/Executables/Discord
    sudo chown root:root ~/Executables/Discord/chrome-sandbox
    sudo chmod 4755 ~/Executables/Discord/chrome-sandbox
    dcs
}

# Cursor
alias cursor='nohup ~/Executables/Cursor/AppRun > /dev/null 2>&1 & disown'

# Git
alias gsh='git stash'
alias gshp='git stash pop'
alias gs='git status'
alias ga='git add'
alias gc='git commit -m'
alias gd='git diff --color'
alias gb='git branch'
alias gx='git checkout'
alias gl='git log'

# Media
alias png='xdg-open'
alias mp4='vlc'
pdf() {
    zathura "$@" &
}

# Update main branch for the current git fork
function ff-main {
    git switch main
    git fetch upstream
    git pull --ff-only upstream main
    git push origin main
}

# University account -> ajoukov@cs.stonybrook.edu
gua() {
    export GIT_SSH_COMMAND='ssh -i ~/.ssh/id_ed25519_cs_sbu -o IdentitiesOnly=yes'
    eval $(ssh-agent)
    ssh-add ~/.ssh/id_ed25519_cs_sbu
    git config --global user.name  "Alexander Joukov"
    git config --global user.email "ajoukov@cs.stonybrook.edu"
}
# Personal account -> Aapteryx@gmail.com
guA() {
    export GIT_SSH_COMMAND='ssh -i ~/.ssh/id_github_personal -o IdentitiesOnly=yes'
    eval $(ssh-agent)
    ssh-add ~/.ssh/id_github_personal
    git config --global user.name  "Alexander Joukov"
    git config --global user.email "Aapteryx@gmail.com"
}

# Set volume
v() {
    pactl set-sink-volume @DEFAULT_SINK@ $@%
}

